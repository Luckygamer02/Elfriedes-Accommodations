spring.application.name=backend-test

# Use H2 in-memory database for tests
spring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE;MODE=MySQL;NON_KEYWORDS=USER
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.properties.hibernate.jdbc.time_zone=UTC

# Disable features that require external services
org.jobrunr.background-job-server.enabled=false
org.jobrunr.dashboard.enabled=false

# Disable mail
spring.mail.host=localhost
spring.mail.port=1025

# Application properties with test defaults
app.application-name=backend-test
app.base-url=http://localhost:8080
app.allowed-origins=http://localhost:3000
app.login-page-url=http://localhost:8080/auth/login
app.login-success-url=http://localhost:8080/auth/login-success
app.admin-user-email=admin@test.com
app.admin-user-password=TestPassword123

# S3 test configuration
app.s3.bucket-name=test-bucket
app.s3.access-key=test-key
app.s3.secret-key=test-secret
app.s3.base-url=http://localhost:9000
app.s3.region=us-east-1
app.s3.storage-class=STANDARD

# VAPID keys for testing
app.vapid-public-key=BCrMRKuJa7Qc7ZVHiV283YJvPiMvSDkjb1uHQQNWrIRT5ztgvi6RFPoiNjp70v_VL0VLjsODEPOrsNQjc1UVpVU
app.vapid-private-key=LtMT7hEqoQ2-jSRC8tj2l80AgUVKyDv9_5XQTHFpMng
app.vapid-subject=mailto:test@example.com

# Disable OAuth2 for tests
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration
